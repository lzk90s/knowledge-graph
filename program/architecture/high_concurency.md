<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 高并发方法](#1-高并发方法)
- [2. 缓存](#2-缓存)
- [3. 数据库](#3-数据库)
  - [3.1. 分区、分库、分表](#31-分区-分库-分表)
  - [3.2. 读写分离](#32-读写分离)
- [4. MQ 削峰](#4-mq-削峰)
- [5. 流量控制](#5-流量控制)
- [6. 熔断&降级](#6-熔断降级)
- [7. ElasticSearch](#7-elasticsearch)

<!-- /code_chunk_output -->

## 1. 高并发方法

水平拆分 + 垂直拆分

## 2. 缓存

## 3. 数据库

### 3.1. 水平拆分

- 范围法
- 哈希法

#### 3.1.1. 水平拆分后的问题

通过 uid 属性查询能直接定位到库，通过非 uid 属性查询不能定位到库。

解决方法：

1. 建立非 uid 属性到 uid 的映射关系
2. 前台与后台分离

### 3.2. 垂直拆分

- 主表（少量字段的关键数据）
- 副表（额外的数据）

### 3.3. 读写分离

## 4. MQ 削峰

## 5. 流量控制

## 6. 熔断&降级

## 7. ElasticSearch
